# Инструкция по деплою на Render.com

Мы выбрали Render.com, так как это самый простой и бесплатный способ запустить ваше приложение.

## Вариант 1: Автоматический (Рекомендуемый)

Я создал файл `render.yaml` в корне вашего проекта. Это "чертеж", который Render понимает.

1. Загрузите изменения на GitHub:
   ```bash
   git add .
   git commit -m "Add render config"
   git push
   ```
2. Зайдите на [dashboard.render.com/blueprints](https://dashboard.render.com/blueprints).
3. Нажмите **New Blueprint Instance**.
4. Подключите ваш репозиторий.
5. Render всё сделает сам!

---

## Вариант 2: Ручная настройка (То, что вы делаете сейчас)

Если вы настраиваете сервис вручную через кнопку "New Web Service", вот правильные настройки:

### 1. Build & Start Commands

- **Build Command**: `npm install && npm run build && npm run refresh`
  _(Это важно! Мы добавляем `npm run refresh`, чтобы при каждом деплое база данных наполнялась вопросами заново. Иначе она будет пустой.)_
- **Start Command**: `npm start`

### 2. Environment Variables (Переменные окружения)

Вот ответ на ваш вопрос про скриншот:

| Key (Ключ) | Value (Значение) |
| :--------- | :--------------- |
| `NODE_ENV` | `production`     |

_Нажмите "Add Environment Variable", введите `NODE_ENV` слева и `production` справа._

---

## Важно знать

**Почему база данных сбрасывается?**
На бесплатном тарифе Render (и почти всех аналогов) диск "временный". Когда сервер перезагружается (или вы делаете новый деплой), все файлы, созданные во время работы (включая `jlpt.db`), удаляются.

**Наше решение:**
Именно поэтому в команду сборки мы добавили `npm run refresh`.

- Каждый раз, когда Render запускает ваш сайт, он берет JSON-файлы (`chapter1.json` и т.д.) и заново создает базу данных.
- **Плюс**: Сайт всегда работает и вопросы на месте.
- **Минус**: Если пользователь начал тест и сервер перезагрузился — его прогресс в конкретном тесте пропадет. Для портфолио это не страшно.
